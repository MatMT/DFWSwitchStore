<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
    <title>API Documentation</title>
    <!-- webjars lets us import properly the required external resources -->
    <h:outputStylesheet library="webjars" name="bootstrap/5.1.3/css/bootstrap.min.css"/>
    <style>
        .json-pre {
            background-color: #333;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
        }
    </style>
</h:head>

<!-- Since Swagger didn't work during installation the API documentation is handled manually -->

<h:body>
    <div class="container mt-4">
        <h1>API Documentation</h1>
        <hr/>
        <div class="accordion" id="apiAccordion">
            <!-- GET: Test endpoint -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingZero">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseZero" aria-expanded="true" aria-controls="collapseZero">
                        GET /api/index - Receive a chill greeting
                    </button>
                </h2>
                <div id="collapseZero" class="accordion-collapse collapse show" aria-labelledby="headingZero"
                     data-bs-parent="#apiAccordion">
                    <div class="accordion-body">
                        <strong>URL:</strong> /api/index<br/>
                        <strong>Method:</strong> GET<br/>
                        <strong>Description:</strong> Just to make sure the service is running properly.<br/>
                        <strong>Responses:</strong>
                        <ul>
                            <li>200 OK - Successfully connected to web service.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- GET: All Games endpoint -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        GET /api/games - Retrieve all games
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                     data-bs-parent="#apiAccordion">
                    <div class="accordion-body">
                        <strong>URL:</strong> /api/games<br/>
                        <strong>Method:</strong> GET<br/>
                        <strong>Description:</strong> Retrieves all games from the database.<br/>
                        <strong>Responses:</strong>
                        <ul>
                            <li>200 OK - Successfully retrieved list of games.</li>
                            <li>500 Internal Server Error - If there was an error processing the request.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- GET: Get one game endpoint -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                        GET /api/games/{id} - Retrieve a single game
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                     data-bs-parent="#apiAccordion">
                    <div class="accordion-body">
                        <strong>URL:</strong> /api/games/{id}<br/>
                        <strong>Method:</strong> GET<br/>
                        <strong>Description:</strong> Retrieves a specific game from the database.<br/>
                        <strong>Parameters:</strong>
                        <ul>
                            <li><strong>id (Integer):</strong> Required. The identifier of the game.</li>
                        </ul>
                        <strong>Responses:</strong>
                        <ul>
                            <li>200 OK - Successfully retrieved the selected game.</li>
                            <li>404 Not Found - The requested game was not found on the source.</li>
                            <li>500 Internal Server Error - If there was an error processing the request.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- POST: New game endpoint -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        POST /api/games - Create a new game
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                     data-bs-parent="#apiAccordion">
                    <div class="accordion-body">
                        <strong>URL:</strong> /api/games<br/>
                        <strong>Method:</strong> POST<br/>
                        <strong>Description:</strong> Creates a new game in the database.<br/>
                        <strong>Parameters:</strong>
                        <ul>
                            <li><strong>title (String):</strong> Required. The title of the game.</li>
                            <li><strong>genre (String):</strong> Required. The genre of the game.</li>
                            <li><strong>price (Integer):</strong> Required. The price of the game.</li>
                        </ul>
                        <strong>Request Body (JSON):</strong>
                        <pre class="json-pre">{
  "title": "Sample game",
  "genre": "Action",
  "price": 25
}</pre>
                        <strong>Responses:</strong>
                        <ul>
                            <li>201 Created - Successfully created new game.</li>
                            <li>400 Bad Request - If the request body is incorrect or missing required fields.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- POST: Update game endpoint -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        POST /api/games/{id} - Edit an existing game
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                     data-bs-parent="#apiAccordion">
                    <div class="accordion-body">
                        <strong>URL:</strong> /api/games/{id}<br/>
                        <strong>Method:</strong> POST<br/>
                        <strong>Description:</strong> Updates a selected game's information in the database.<br/>
                        <strong>Parameters:</strong>
                        <ul>
                            <li><strong>id (URL | Integer):</strong> Required. The identifier of the game.</li>
                            <li><strong>title (String):</strong> Required. The title of the game.</li>
                            <li><strong>genre (String):</strong> Required. The genre of the game.</li>
                            <li><strong>price (Integer):</strong> Required. The price of the game.</li>
                        </ul>
                        <strong>Request Body (JSON):</strong>
                        <pre class="json-pre">{
  "title": "Edited game",
  "genre": "Adventure",
  "price": 99
}</pre>
                        <strong>Responses:</strong>
                        <ul>
                            <li>201 Created - Successfully updated game information.</li>
                            <li>400 Bad Request - If the request body is incorrect or missing required fields.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- DELETE: Delete game endpoint -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFive">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                        DELETE /api/games/{id} - Delete a game
                    </button>
                </h2>
                <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                     data-bs-parent="#apiAccordion">
                    <div class="accordion-body">
                        <strong>URL:</strong> /api/games/{id}<br/>
                        <strong>Method:</strong> DELETE<br/>
                        <strong>Description:</strong> Deletes a specific game from the database.<br/>
                        <strong>Parameters:</strong>
                        <ul>
                            <li><strong>id (Integer):</strong> Required. The identifier of the game.</li>
                        </ul>
                        <strong>Responses:</strong>
                        <ul>
                            <li>200 OK - Successfully deleted the selected game.</li>
                            <li>404 Not Found - The requested game was not found on the source.</li>
                            <li>500 Internal Server Error - If there was an error processing the request.</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        <hr/>
        <h:form>
            <h:commandButton value="Got it!" action="index?faces-redirect=true"
                             class="btn btn-secondary mt-4"/>
        </h:form>
    </div>

    <h:outputScript library="webjars" name="bootstrap/5.1.3/js/bootstrap.bundle.min.js"/>
</h:body>
</html>
